# Migration `20200616222407-schema-name-correction`

This migration has been generated by rahul at 6/16/2020, 10:24:07 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."favourites" (
"created" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" SERIAL,"tokens_id" integer  NOT NULL ,"updated" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"users_id" integer  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."favorites" DROP CONSTRAINT IF EXiSTS "favorites_tokens_id_fkey";

ALTER TABLE "public"."favorites" DROP CONSTRAINT IF EXiSTS "favorites_users_id_fkey";

ALTER TABLE "public"."favourites" ADD FOREIGN KEY ("tokens_id")REFERENCES "public"."tokens"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."favourites" ADD FOREIGN KEY ("users_id")REFERENCES "public"."users"("id") ON DELETE CASCADE  ON UPDATE CASCADE

DROP TABLE "public"."favorites";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200614231346-added-notification-schema..20200616222407-schema-name-correction
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model bids {
   active       Boolean?       @default(true)
@@ -72,9 +72,9 @@
   users       users?      @relation(fields: [usersId], references: [id])
   usersId     Int?
 }
-model favorites {
+model favourites {
   created   DateTime @default(now())
   id        Int      @default(autoincrement()) @id
   tokens_id Int
   updated   DateTime @default(now())
@@ -112,22 +112,22 @@
   notificatons   notificatons[]
 }
 model tokens {
-  active        Boolean?    @default(true)
+  active        Boolean?     @default(true)
   categories_id Int
-  created       DateTime    @default(now())
+  created       DateTime     @default(now())
   description   String?
-  id            Int         @default(autoincrement()) @unique
+  id            Int          @default(autoincrement()) @unique
   img_url       String?
   metadata      Json?
   token_id      String
   name          String
-  updated       DateTime    @default(now())
+  updated       DateTime     @default(now())
   users_id      Int
-  categories    categories  @relation(fields: [categories_id], references: [id])
-  users         users       @relation(fields: [users_id], references: [id])
-  favorites     favorites[]
+  categories    categories   @relation(fields: [categories_id], references: [id])
+  users         users        @relation(fields: [users_id], references: [id])
+  favourites    favourites[]
   orders        orders[]
   @@id([token_id, categories_id])
 }
@@ -138,9 +138,9 @@
   created      DateTime               @default(now())
   id           Int                    @default(autoincrement()) @id
   updated      DateTime               @default(now())
   bids         bids[]
-  favorites    favorites[]
+  favourites   favourites[]
   maker_orders orders[]               @relation("maker_orders")
   taker_orders orders[]               @relation("taker_orders")
   tokens       tokens[]
   approved     erc20tokensaddresses[]
```


